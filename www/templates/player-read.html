<!--
  This template loads for the 'tab.friend-detail' state (app.js)
  'friend' is a $scope variable created in the FriendsCtrl controller (controllers.js)
  The FriendsCtrl pulls data from the Friends service (service.js)
  The Friends service returns an array of friend data
-->
<ion-view view-title="{{book.title}}">
  <div class="bar bar-subheader thumbnail-bar">
    <div class="button-bar">
      <a class="button button-clear">
        <span class="ion-ios-arrow-left"></span>
      </a>
      <a class="button button-clear" ng-repeat="page in pages">
        <img ng-src="{{page.image._downloadURL}}" height="30px" ng-class="{selected: $index==currentSlide}">
      </a>
      <a class="button button-clear">
        <span class="ion-ios-arrow-right"></span>
      </a>
    </div>
  </div>
  <ion-nav-buttons side="primary">
    <a class="button button-clear button-light button-icon icon ion-ios-information-outline help-button" ng-href="">
    </a>
    <a class="button button-clear button-light button-icon icon ion-ios-close-empty" ng-href="#/tab/read">
    </a>
  </ion-nav-buttons>
  <ion-content class="padding has-header has-subheader">
    <ion-slide-box on-slide-changed="slideHasChanged($index)" active-slide="currentSlide">
      <ion-slide ng-repeat="page in pages">
        <div class="box">
          <p ng-repeat="paragraph in page.text|splitParagraphs track by $index">
            <span class="word" ng-repeat="word in paragraph|splitWords track by $index">
              {{word}}
            </span>
          </p>
        </div>
      </ion-slide>
    </ion-slide-box>
  </ion-content>
  <div class="bar bar-footer bar-stable player-footer">
    <button class="button button-large button-clear button-dark ion-ios-play play-button" ng-click='speak(pages[currentSlide].text, "en-US")'></button>
    <button class="button button-large button-clear button-dark define-button button-icon icon ion-ios-search-strong" ng-click='speak("you just clicked the define button")'></button>
  </div>
</ion-view>
